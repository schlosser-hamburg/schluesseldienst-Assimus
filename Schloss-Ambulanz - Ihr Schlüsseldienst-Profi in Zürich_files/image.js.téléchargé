"use strict";!function(t,e,i){var n=function(e,i){var n={viewport:"lg",enablehover:!1};this.$element=t(e),this.$image="NOSCRIPT"!==e.tagName?this.$element:null,this.moduleId=this.$element.attr("id"),this.$imageModuleWrap=this.$element.parent(),this.options=t.extend({},n,i),this.isInTool=document.body.hasAttribute("data-istool"),this.options.enablehover&&this.init()};n.prototype={init:function(){var e=this;return this.$image?(this.initOverlay(),void this.$image[0].addEventListener("load",this.initOverlay)):void this.$imageModuleWrap.find("img").on("lazyloadFinished",function(i){e.$image=t(i.target),e.moduleId=e.$image.attr("id"),e.initOverlay()})},initOverlay:function(){var e=this;this.$window=t(i),this.addStyleTag(),this.setOverlayPos(),this.setViewport(),this.$window.on("resize load",function(){e.setViewport(),e.setOverlayPos()}),this.$image[0].hasAttribute("data-animate")&&t(this.$image[0]).on("animationend webkitAnimationEnd",function(){e.setOverlayPos()})},addStyleTag:function(){var e=document.createElement("style");e.type="text/css",e.id="style_imageHover_"+this.moduleId,e.appendChild(document.createTextNode("")),t("head").append(e)},setOverlayPos:function(){var e=document.getElementById("style_imageHover_"+this.moduleId),i=this.$image[0],n=t(i).css("marginLeft")?Math.trunc(t(i).css("marginLeft").replace(/[^\d]+$/,"")):0,o=t(i).css("marginTop")?Math.trunc(t(i).css("marginTop").replace(/[^\d]+$/,"")):0,a=Math.trunc(t(i).position().top)+o,s=Math.trunc(t(i).position().left)+n,d=i.offsetWidth,r=i.offsetHeight;e.innerText="#"+this.moduleId+" + .hoverOverlay{top:"+a+"px;left:"+s+"px;width:"+d+"px;height:"+r+"px;}"},destroy:function(){t("head style_imageHover_"+this.moduleId).remove(),this.$image.data("monoimage",null)},setViewport:function(){this.$window.width()<768?this.viewport="sm":this.$window.width()<1200?this.viewport="md":this.viewport="lg"}},t.fn.monoimage=function(e){return this.each(function(){t.data(this,"monoimage")||t.data(this,"monoimage",new n(this,e))})},t('[data-req*="image"]').each(function(e,i){t(i).monoimage(_monoLoader.utils.makeOptionsObj(t(i).attr("data-settings")))})}(jQuery,Modernizr,window);