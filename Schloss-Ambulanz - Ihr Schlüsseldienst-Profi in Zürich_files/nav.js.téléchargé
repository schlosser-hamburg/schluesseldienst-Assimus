"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_monoNav={init:function(){$(".module.nav").each(function(t,i){$(i).mononav(_monoLoader.utils.makeOptionsObj($(i).attr("data-settings")))})}};!function(t,i,n){var e=function(i,e){var a=this,s={push:!1,direction:"left"};this.$nav=t(i),this.$window=t(n),this.$body=t("body"),this.$skipNavigation=t(".skipNavigation"),this.$wrapper=t("body > div:first"),this.clickEvent="click.mononav",this.windowWidth=t(n).width(),this.options=t.extend({},s,e),this.noScrollClass=n.navigator.userAgent.match(/(iPad|iPhone|iPod|Safari)/g)&&!n.navigator.userAgent.match(/Chrome/g)?"safariNoScroll":"noScroll",this.tabbableElements=t("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),this.$lastElement=this.$nav.find("li:last > a:last"),this.$firstElement=this.$nav.find("li:first > a:first"),this.animationDelay=300,this.viewport=n._monoLoader.utils.getViewport(),this.hasInitialized=!1,this.init(),n.onresize=function(){var t=n._monoLoader.utils.getViewport();t!==a.viewport&&(a.viewport=t,a.buildNav())}};e.prototype={init:function(){this.hasNav=this.$nav.length,i.touchevents&&(this.clickEvent=n.navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?this.clickEvent+" touchstart.mononav":this.clickEvent+" tap.mononav"),this.hasNav&&(this.buildNav(),this.bindDropdownEvent(),this.bindOpenEvent(),this.bindCloseEvent(),this.bindResizeEvent(),this.bindKeyboardEvent(this.$body.attr("data-enablefocusindication")),this.doubleTapToGo(this.$nav.find("li:has(ul)")),this.addSkipClickEvent(),this.placeCarets(),this.automateAriaToggling(),this.openActiveParents(),this.hasInitialized=!0)},buildNav:function(){var i=this;if(this.$navList=this.$nav.find("> ul"),this.$listItems=this.$navList.find("li"),this.isBurgerMenu()&&t('<li class="closeBtn" title="Close Menu" aria-label="Close Menu" aria-hidden="false" role="button" tabindex="-1">').prependTo(this.$navList).on(this.clickEvent,t.proxy(this.closeMenu,this)),this.$listItems.each(function(n,e){var a=t(e).find("> ul > li").text()+" links";if(t(e).find("> ul").length){var s="navUl_"+n;i.hasInitialized||t(e).addClass("hasChildren").attr("role","link").find("a:first").after('<a title="'+a+'" class="dropIco" />');var r=t(e).find("> ul");i.setSubmenuPosition(r),r.attr("aria-labelledby",s),r.attr("id",s),i.isBurgerMenu()?(i.$nav.attr("role","button"),i.$nav.attr("tabindex","0"),i.$nav.find(".navContainer").attr("role","presentation"),i.$nav.find(".navContainer").attr("tabindex",-1)):(r.attr("role","menu"),r.find("li").find("a").attr("role","menuitem")),i.$window.on("resize",function(){i.setSubmenuPosition(t(document.getElementById(s)))})}t(e).parent().hasClass("navContainer")&&(t(e).find("a").attr("tabindex",0),t(e).find("a.dropIco").attr("tabindex",0),t(e).find("li").find("a").attr("role","menuitem")),i.isBurgerMenu()&&(t(e).find("a:not(.dropIco)").attr("aria-hidden","true").attr("tabindex","-1"),t(e).find("a.dropIco").attr("tabindex","-1")),i.$window.on("resize.mononav",function(){i.isBurgerMenu()&&t(e).find("a:not(.dropIco)").attr("aria-hidden","true").attr("tabindex","-1")}),t(e).children("a:first").hasClass("active")&&t(e).children("a:first").attr("aria-current","page")}),!this.isBurgerMenu()&&this.$nav.find(".navContainer li > ul li").length&&t("body").find(".bgfilter").length){var n=!!this.$nav.closest(".col.bgfilter").length,e=this;t("nav ul.navContainer li.hasChildren").on({mouseenter:function(i){var e=i.currentTarget.closest("nav"),a=n?t(e).parent():t(e).closest(".container");a.css("z-index","4")},mouseleave:function(i){var a=t(i.target);e.hideSublist(a);var s=i.currentTarget.closest("nav"),r=n?t(s).parent():t(s).closest(".container");r.css("z-index","")}})}},setSubmenuPosition:function(i){if(i&&i.length){var n=i[0],e=t(n.parentElement),a="firstSubmenuLeft";document.documentElement.clientWidth-n.parentElement.getBoundingClientRect().right-n.clientWidth<0?(e.parent().hasClass("navContainer")||(e.parent().find("> li").css("text-align","right"),a="left"),i.attr("class",a),e.find("a").eq(0).attr("class","naviLeft")):(e.parent().hasClass("navContainer")||(e.parent().find("> li").removeAttr("style"),a="left"),i.removeAttr("class",a),e.find("a").eq(0).removeAttr("class","naviLeft"))}},openActiveParents:function(){this.$listItems.filter(".active").parents(".hasChildren").addClass("showChildren"),this.$listItems.filter(".showChildren a.dropIco").attr("aria-expanded","true"),this.setVisibleListsTabbable()},bindDropdownEvent:function(){this.$listItems.filter(".hasChildren").find("a.dropIco").on(this.clickEvent,function(i){i.preventDefault(),i.stopImmediatePropagation(),t(this).parent().toggleClass("showChildren")})},bindOpenEvent:function(){var i=this;this.$nav.on(this.clickEvent,function(n){n.target==this&&!i.$nav.hasClass("opened-menu")&&n.cancelable&&(n.stopImmediatePropagation(),n.preventDefault(),i.openMenu(n),t(this).attr("aria-expanded","true"))})},placeCarets:function(){if(!this.isBurgerMenu()){var i=this.$nav.find(".navContainer > li > .dropIco");i.each(function(i,n){var e=t(n).siblings("a");t(n).css("right",Math.ceil(parseInt(e.css("margin-right"))+parseInt(e.css("padding-right")))+"px")})}},bindKeyboardEvent:function(i){var e=this,a=this;if(void 0!==("undefined"==typeof i?"undefined":_typeof(i))){var s=Object.freeze({TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,HOME:36,END:35});this.$nav.on("keydown",function(t){var i=t.target;switch(t.which){case s.ENTER:case s.DOWN:case s.UP:case s.SPACE:case s.HOME:case s.END:t.stopImmediatePropagation(),t.preventDefault();break;case s.TAB:e.isBurgerMenu()||e.$lastElement[0]!==i&&e.$firstElement[0]!==i?e.isBurgerMenu()&&e.$lastElement[0]===i&&e.$nav.trigger("focus"):e.hideSublist(e.$nav.find(".showChildren"))}}),this.$nav.on("keyup",function(i){var r=t(i.target),o=r.parent(),l=r.closest("li"),h=r.closest("ul");switch(i.which){case s.ENTER:case s.SPACE:if(i.stopImmediatePropagation(),i.preventDefault(),r.hasClass("dropIco"))o.toggleClass("showChildren").toggleClass("hover");else if(r.is(".closeBtn"))e.closeMenu(i);else if(r.is(".module.nav"))e.openMenu(i);else{var d=r.attr("href")||r.find("a").attr("href");d&&(n.location=d)}break;case s.DOWN:case s.UP:if(l.hasClass("hasChildren")&&h.hasClass("navContainer")&&!e.isBurgerMenu())break;i.which===s.UP?e.handleArrowVertical(r,l,!0):e.handleArrowVertical(r,l);break;case s.ESC:r.hasClass("dropIco")?r.siblings("a").first().trigger("focus"):e.isBurgerMenu()?e.escapeBurgerMenu(h,i):e.focusOnClosestParent(r);break;case s.HOME:(e.applyNavFocus(a.$nav)||!e.isBurgerMenu())&&h.find("li:not([class*=hidden-"+e.viewport+"], .closeBtn)").first().find("a:first").trigger("focus");break;case s.END:(e.applyNavFocus(a.$nav)||!e.isBurgerMenu())&&h.find("li:not([class*=hidden-"+e.viewport+"], .closeBtn)").last().find("a:first").trigger("focus");break;case s.TAB:if(e.isBurgerMenu())return;e.hideSublist(o.siblings()),e.hideSublist(o.siblings().find(".showChildren"))}}),this.$listItems.on("keyup",function(i){var n=t(i.target),a=n.closest("li"),r=n.closest("ul");switch(i.which){case s.RIGHT:i.stopPropagation(),i.preventDefault(),e.isBurgerMenu()||e.handleArrowHorizontal(n,r,a);break;case s.LEFT:i.stopPropagation(),i.preventDefault(),e.isBurgerMenu()||e.handleArrowHorizontal(n,r,a,!0)}})}},applyNavFocus:function(t){return this.isBurgerMenu()&&t.hasClass("opened-menu")},bindResizeEvent:function(){var t=this;this.$window.on("resize.mononav",function(i){return t.windowWidth==t.$window.width()?!1:void(t.$nav.hasClass("opened-menu")&&t.closeMenu(i))})},bindCloseEvent:function(){var i=this;t(document).on(this.clickEvent,function(t){i.$nav.hasClass("opened-menu")&&i.closeMenu(t)}),this.$navList.on(this.clickEvent,function(t){t.stopPropagation()})},openMenu:function(){var i=this;if(!this.isBurgerMenu())return!1;this.positionStickyEngagementsBehindNavigation(),this.$nav.addClass("opening"),this.$nav.addClass("opened-menu"),this.$nav.find("> ul > li > a:not(.dropIco)").attr("aria-hidden","false").attr("tabindex",0),this.$nav.find("> ul > li > a.dropIco").attr("tabindex",0),this.$window.width()>767?this.$body.css("overflow-x","hidden"):this.$body.css("overflow","hidden"),this.$nav.closest(".row.bgfilter").css("z-index","3");var e;if(e=this.$window.width()>=1200?80:this.$window.width()>767&&this.$window.width()<=1199?50:0,"left"===this.options.direction?this.$navList.css("left","auto").animate({right:e+"%"},this.animationDelay,"swing",function(){i.$nav.removeClass("opening")}):this.$navList.css("right","auto").animate({left:e+"%"},this.animationDelay,"swing",function(){i.$nav.removeClass("opening")}),this.$navList.each(function(){var i=t(this).find('[href^="'+n.location.origin+n.location.pathname+'#"]');i.length&&i.attr("onClick","$('.closeBtn').trigger('click');"),t(this).find('[data-req~="anchor"]').attr("onClick","$('.closeBtn').trigger('click');")}),this.options.push){var a;if(a=this.$window.width()>1200?20:this.$window.width()>767&&this.$window.width()<1199?50:100,this.$window.width()<1199&&this.$body.addClass(this.noScrollClass),"left"===this.options.direction?this.$wrapper.animate({"margin-left":a+"%"},this.animationDelay):this.$wrapper.animate({"margin-left":-a+"%"},this.animationDelay),n.hasOwnProperty("_monoFixedHeader")){var s=t("header.headerFixed");if(s.length){var r=this.$window.width()/100*a;"left"===this.options.direction?s.animate({left:r+parseFloat(s.css("left"))+"px",right:-(r-parseFloat(s.css("right")))+"px"},this.animationDelay):s.animate({right:r+parseFloat(s.css("right"))+"px",left:-(r-parseFloat(s.css("left")))+"px"},this.animationDelay)}}}this.$nav.find(".closeBtn").attr("tabindex","0"),this.applyNavFocus(this.$nav)&&this.$window.width()<768&&this.$nav.find(".closeBtn").attr("tabindex","0").trigger("focus"),this.setVisibleListsTabbable()},closeMenu:function(i){var e=this;i.stopPropagation(),i.stopImmediatePropagation();var a=this;if(this.$nav.hasClass("opened-menu")){if(this.$navList.each(function(){var i=t(this).find('[href^="'+n.location.origin+n.location.pathname+'#"]');i.length&&i.attr("onClick","$('.closeBtn').trigger('click');"),t(this).find('[data-req~="anchor"]').attr("onClick","$('.closeBtn').trigger('click');")}),a.restoreOriginalStickyEngagementPositioning(),this.$body.css("overflow","").css("overflow-x",""),"left"===this.options.direction?this.$navList.css("left","auto").animate({right:"100%"},this.animationDelay,"swing",function(){t(this).css({left:"",right:""}),a.$nav.hasClass("opening")||(a.$body.removeClass(a.noScrollClass),a.$nav.removeClass("opened-menu"),a.$nav.closest(".row.bgfilter").css("z-index",""))}):this.$navList.css("right","auto").animate({left:"100%"},this.animationDelay,"swing",function(){t(this).css({left:"",right:""}),a.$nav.hasClass("opening")||(a.$body.removeClass(a.noScrollClass),a.$nav.removeClass("opened-menu"),a.$nav.closest(".row.bgfilter").css("z-index",""))}),this.options.push){this.$body.hasClass(this.noScrollClass)&&this.$wrapper.css({position:"fixed"}),this.$wrapper.animate({"margin-left":""},this.animationDelay,function(){e.$wrapper.css({position:""})});var s=t("header.headerFixed");if(n.hasOwnProperty("_monoFixedHeader")&&s.length){var r=this.$window.width()>767?this.$window.width()/100*20:this.$window.width()/100*90,o=Math.abs(parseFloat(s.css("left"))),l=Math.abs(parseFloat(s.css("right")));"left"===this.options.direction?s.animate({left:o-r+"px",right:r-l+"px"},this.animationDelay):s.animate({left:r-o+"px",right:l-r+"px"},this.animationDelay)}}this.$nav.attr("aria-expanded",this.$nav.hasClass("opened-menu"))}this.$nav.find(".closeBtn").attr("tabindex","-1"),this.$nav.find("a:not(.dropIco)").attr("aria-hidden","true").attr("tabindex","-1"),this.$nav.find("a.dropIco").attr("tabindex","-1")},isBurgerMenu:function(){return"sm"===this.viewport?!0:this.$nav.is('[data-settings*="verticalNav-'+this.viewport+'=true"]')||this.$nav.is('[data-settings*="vertical="]')&&!this.$nav.is('[data-settings*="vertical=false"]')?!0:!1},doubleTapToGo:function(i){if(!("ontouchstart"in n||navigator.msMaxTouchPoints||navigator.userAgent.toLowerCase().match(/windows phone os 7/i)))return!1;var e=this;this.curItem=!1,t(i).on("click",function(i){if(!e.isBurgerMenu()){i.stopImmediatePropagation();var n=t(i.currentTarget);n[0]!=e.curItem[0]&&(i.preventDefault(),e.curItem=n)}}),t(document).on("click touchstart MSPointerDown",function(i){for(var n=!0,a=t(i.target).parents(),s=0;s<a.length;s++)a[s]==e.curItem[0]&&(n=!1);n&&(e.curItem=!1)})},addSkipClickEvent:function(){var i=this;this.$skipNavigation.on("click",function(i){var n=t('[role="main"]');i.preventDefault(),t(n).attr("tabindex",-1).on("blur focusout",function(){t(n).removeAttr("tabindex")}).trigger("focus"),t([document.documentElement,document.body]).animate({scrollTop:n.offset().top},0)}),this.$skipNavigation.find("a").on("focus",function(){i.$skipNavigation.css("z-index",5)}),this.$skipNavigation.find("a").on("blur",function(){i.$skipNavigation.css("z-index",-1)})},toggleAttribute:function(i,n){var e=t(i).attr(n)||"false";if(e){var a="true"===e?"false":"true";t(i).attr(n,a)}},toggleTabbingOnPage:function(i){var n=i?"0":"-1";this.$nav.find(".dropIco").attr("tabindex",n),t.each(this.tabbableElements,function(i,e){t(e).attr("tabindex",n)}),i&&this.$nav.find("> ul li a:first").each(function(i,n){t(n).parent().hasClass("navContainer")&&(t(n).find("a").attr("tabindex",-1),t(n).find("a.dropIco").attr("tabindex",0)),t(n).hasClass("active")&&t(n).find("a:first").attr("aria-current","page")})},setVisibleListsTabbable:function(){this.$nav.find(".showChildren > ul > li > a:not(.dropIco)").attr("aria-hidden","false"),this.$nav.find(".showChildren > ul > li > a").attr("tabindex",0)},positionStickyEngagementsBehindNavigation:function(){t(".stickyEngagementWrapper").css("z-index",4)},restoreOriginalStickyEngagementPositioning:function(){t(".stickyEngagementWrapper").css("z-index","")},automateAriaToggling:function(){var i=this,n=this,e=this.$nav.find(".hasChildren"),a=e.find("a.dropIco"),s=new MutationObserver(function(t){t.forEach(function(t){return n.toggleHidingLists(t)})});a.each(function(n,e){t(e).attr("aria-expanded",!1),t(e).on("click",function(t){return i.toggleAriaExpanded(t.target)})}),e.each(function(n,e){t(e).on("mouseover",function(t){return!i.isBurgerMenu()&&i.toggleAriaExpanded(t.target)}),t(e).on("mouseout",function(t){return!i.isBurgerMenu()&&i.toggleAriaExpanded(t.target)}),s.observe(e,{attributes:!0,attributeFilter:["class"],childList:!0,subtree:!0})})},hideSublist:function(t){t.removeClass("showChildren").removeClass("hover")},toggleAriaExpanded:function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1,e=void 0,a=void 0;return n?(e=t(i),a=e.hasClass("showChildren")||!this.isBurgerMenu()&&"visible"===e.children("ul").css("visibility"),e.children("a.dropIco").attr("aria-expanded",a)):(e=t(i).hasClass("dropIco")?t(i):t(i).siblings("a.dropIco"),a=e.hasClass("showChildren")||"visible"===e.siblings("ul").css("visibility"),e.attr("aria-expanded",a)),{$target:e,isListOpen:a}},toggleHidingLists:function(t){var i=this.toggleAriaExpanded(t.target,!0),n=i.$target,e=i.isListOpen;this.isBurgerMenu()&&this.toggleHidingSublists(n,e),n.find("> ul > li > a[aria-hidden]").attr("aria-hidden",!e),n.find("> ul > li > a").attr("tabindex",e?0:-1)},toggleHidingSublists:function(i,n){var e=i.find("> ul li.showChildren");e.each(function(i,e){var a=t(e);a.find("> ul > li > a[aria-hidden]").attr("aria-hidden",!n),a.find("> ul > li > a.dropIco").attr("aria-expanded",n),a.find("> ul > li > a").attr("tabindex",n?0:-1)})},escapeBurgerMenu:function(t,i){t.hasClass("navContainer")?this.closeMenu(i):(this.hideSublist(t.find(".showChildren")),this.hideSublist(t.closest(".showChildren")),t.siblings("a:first").trigger("focus"))},focusOnClosestParent:function(t){var i=t.closest(".hover");this.hideSublist(i),i.closest("li").children("a:first").trigger("focus")},handleArrowHorizontal:function(t,i,n){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:!1;if(i.hasClass("navContainer")){var a=e?n.prevAll(":not(.hidden-"+this.viewport+")").first().children("a:first"):n.nextAll(":not(.hidden-"+this.viewport+")").first().children("a:first");a.trigger("focus")}else if(t.hasClass("dropIco")&&i.hasClass("navContainer")){var s=e?n.children("a:first"):n.nextAll(":not(.hidden-"+this.viewport+")").first().children("a:first");s.trigger("focus")}},handleArrowVertical:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;if(t.hasClass("dropIco")){var e=n?i.children("a:first"):i.nextAll(":not(.hidden-"+this.viewport+")").first().children("a:first");e.trigger("focus")}else{var a=n?i.prevAll(":not(.hidden-"+this.viewport+")").first().children("a:first"):i.nextAll(":not(.hidden-"+this.viewport+")").first().children("a:first");a.trigger("focus")}}},t.fn.mononav=function(i){return this.each(function(){t.data(this,"mononav")||t.data(this,"mononav",new e(this,i))})},_monoNav.init()}(jQuery,Modernizr,window);